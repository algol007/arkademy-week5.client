(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],d=0,p=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0046":function(t,e,a){},"01ff":function(t,e,a){},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"08f4":function(t,e,a){},"14ee":function(t,e,a){},"188f":function(t,e,a){},1966:function(t,e,a){"use strict";var s=a("4481"),i=a.n(s);i.a},"1e16":function(t,e,a){"use strict";var s=a("75d5"),i=a.n(s);i.a},"27da":function(t,e,a){"use strict";var s=a("41be"),i=a.n(s);i.a},"2dae":function(t,e,a){"use strict";var s=a("14ee"),i=a.n(s);i.a},"36e4":function(t,e,a){"use strict";var s=a("4444"),i=a.n(s);i.a},"3b06":function(t,e,a){"use strict";var s=a("01ff"),i=a.n(s);i.a},"41be":function(t,e,a){},4444:function(t,e,a){},4481:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("5886"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],n=(a("034f"),a("2877")),l={},c=Object(n["a"])(l,o,r,!1,null,null,null),u=c.exports,d=a("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=a("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-gapless login"},[s("Auth"),s("div",{staticClass:"column"},[s("div",{staticClass:"auth-form"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}},[s("img",{attrs:{src:a("f1bd"),alt:"Logo",height:"80px",width:"80px"}})]),s("div",{staticClass:"auth-intro"},[s("h1",{on:{click:t.activate}},[t._v("Login")]),s("h5",[t._v("Welcome back, Please login")]),s("h5",[t._v("to your account")])]),s("form",{staticClass:"form",on:{submit:t.signIn}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("Checkbox"),s("button",{staticClass:"button is-black",attrs:{type:"submit"}},[t._v("Login")]),s("router-link",{staticClass:"button is-white",attrs:{to:"/auth/register"}},[t._v("Signup")])],1),t._m(0)],1)])],1)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-login"},[a("p",{staticClass:"intro-end"},[t._v(" By signing up, you agree to Book's ")]),a("p",{staticClass:"intro-end"},[a("a",{attrs:{href:"#"}},[t._v("Terms and Conditions")]),t._v(" & "),a("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])])])}],v=a("bc3a"),g=a.n(v),f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column is-gapless is-three-fifths auth-image"},[a("div",{staticClass:"overlay"}),a("div",{staticClass:"text-image"},[a("div",{staticClass:"text-slogan"},[a("h1",[t._v("Book is a window")]),a("h1",[t._v("to the world")])]),a("div",{staticClass:"text-footer"},[a("p",[t._v("Photo by Mark Pan4ratte on Unsplash")])])])])}],C={name:"Auth"},_=C,w=(a("cc41"),Object(n["a"])(_,f,b,!1,null,"c4a72154",null)),k=w.exports,A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox"},[a("div",{staticClass:"check"},[a("label",{staticClass:"checkbox-label"},[a("input",{attrs:{type:"checkbox",id:"checklist",checked:""}}),a("span",{staticClass:"checkbox-custom"}),a("div",{staticClass:"remember"},[t._v("Remember Me")])])]),a("div",{staticClass:"forgot"},[a("a",{staticClass:"forgot-password",attrs:{href:"#"}},[t._v("Forgot Password?")])])])}],P={name:"Checkbox"},B=P,S=(a("1e16"),Object(n["a"])(B,A,y,!1,null,"aebfb28a",null)),x=S.exports,E={name:"Login",components:{Auth:k,Checkbox:x},data:function(){return{items:[],isLogin:!0,email:null,password:null,userId:null,query:null,token:null,url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,page:null}},created:function(){var t=this.$route.query,e=t.token;e&&(this.token=e,this.activate())},methods:{localData:function(){var t=JSON.stringify({isLogin:!0,id:this.userId,token:this.token});localStorage.setItem("items",t)},activate:function(){this.page="user/activation?token=",g.a.patch(this.url+this.page+this.token,{isActive:1}).then((function(){})).catch((function(){}))},signIn:function(t){var e=this;t.preventDefault(),this.page="auth/signin",g.a.post(this.url+this.page,{email:this.email,password:this.password}).then((function(t){e.userId=t.data.user,e.token=t.data.token,e.$swal.fire({icon:"success",html:"Login Success!",showConfirmButton:!1,timer:3e3}),e.localData(),e.$router.push("/")})).catch((function(){e.$swal.fire({icon:"error",html:"Wrong Password!",showConfirmButton:!1,timer:3e3})}))}}},N=E,I=(a("36e4"),Object(n["a"])(N,m,h,!1,null,"4257b29c",null)),L=I.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-gapless login"},[s("Auth"),s("div",{staticClass:"column"},[s("div",{staticClass:"auth-form"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}},[s("img",{attrs:{src:a("f1bd"),alt:"Logo",height:"80px",width:"80px"}})]),t._m(0),s("form",{staticClass:"form",on:{submit:t.signUp}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Fullname")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"name",name:"name",id:"name",placeholder:"Fullname",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.message1.length?s("span",{staticClass:"error-message"},[t._v(t._s(this.message1))]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password2"}},[t._v("Repeat Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],attrs:{type:"password",name:"password2",id:"password2",placeholder:"Repeat Password",required:""},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})]),this.message2.length?s("span",{staticClass:"error-message"},[t._v(t._s(this.message2))]):t._e(),s("div",{staticClass:"button-group"},[s("button",{staticClass:"button is-black",attrs:{type:"submit"}},[t._v("Signup")]),s("router-link",{staticClass:"button is-white",attrs:{to:"/auth/login"}},[t._v("Login")])],1)]),t._m(1)],1)])],1)},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-intro"},[a("h1",[t._v("Register")]),a("h5",[t._v("Welcome back, Please register")]),a("h5",[t._v("to create account")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-login"},[a("p",{staticClass:"intro-end"},[t._v(" By signing up, you agree to Book's ")]),a("p",{staticClass:"intro-end"},[a("a",{attrs:{href:"#"}},[t._v("Terms and Conditions")]),t._v(" & "),a("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])])])}],U=(a("b0c0"),{name:"Login",components:{Auth:k},data:function(){return{name:null,email:null,password:null,password2:null,message1:[],message2:[],url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,page:null}},watch:{password:function(t){this.password=t,this.checkPassword(t)},password2:function(t){this.password2=t,this.checkPassword2(t)}},methods:{checkPassword:function(t){t.length<4?this.message1="Password must contains at least 4 characters":this.message1=""},checkPassword2:function(t){t.length<4?this.message2="Password must contains at least 4 characters":this.message2=""},signUp:function(t){var e=this;t.preventDefault(),this.password!==this.password2?this.$swal.fire({icon:"error",html:"Password not match!",showConfirmButton:!1,timer:3e3}):(this.page="auth/signup",g.a.post(this.url+this.page,{name:this.name,email:this.email,password:this.password}).then((function(){e.$router.push("/auth/login"),e.$swal.fire({icon:"success",title:"Your account has been created.",text:"Please check your email to activate!",footer:"<a href='https://gmail.com/'>Check my email..</a>"})})).catch((function(){})))}}}),$=U,R=(a("9151"),Object(n["a"])($,O,q,!1,null,"1bf87987",null)),j=R.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[t.isLogin?s("nav",{staticClass:"columns is-gapless custom-navbar"},[s("Sidebar",{attrs:{name:this.name}}),s("div",{staticClass:"toggle-menu",on:{click:t.sidebarShow}},[s("img",{attrs:{src:a("7738"),alt:"toggle-menu"}})]),s("div",{staticClass:"column sort-book"},[s("div",{staticClass:"dropdown satu"},[s("div",{staticClass:"dropdown-trigger"},[s("a",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:t.active1}},[s("span",[t._v("Sort Book")]),t._m(2)])]),s("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[s("div",{staticClass:"dropdown-content"},[s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByTitle}},[t._v(" By Title ")]),s("hr",{staticClass:"dropdown-divider"}),s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByAuthor}},[t._v(" By Author ")])])])]),s("div",{staticClass:"dropdown dua"},[s("div",{staticClass:"dropdown-trigger"},[s("a",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:t.active2}},[s("span",[t._v("All Time")]),t._m(3)])]),s("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[s("div",{staticClass:"dropdown-content"},[s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByYear2}},[t._v(" Newest ")]),s("hr",{staticClass:"dropdown-divider"}),s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByYear}},[t._v(" Latest ")])])])])]),s("div",{staticClass:"column search"},[s("div",{staticClass:"search-box"},[s("i",{staticClass:"fas fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search...","aria-label":"Search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.searchBooks]}})])]),s("div",{staticClass:"column navbar-brand"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("f1bd"),alt:"logo",height:"40px",width:"40px"}})]),s("router-link",{staticClass:"back-home",attrs:{to:"/"}},[t._v("Library")])],1)],1):s("nav",{staticClass:"columns is-gapless custom-navbar"},[s("div",{staticClass:"column navbar-brand"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("f1bd"),alt:"logo",height:"40px",width:"40px"}})]),s("router-link",{staticClass:"back-home",attrs:{to:"/"}},[t._v("Library")])],1),s("div",{staticClass:"column sort-book"},[s("div",{staticClass:"dropdown satu"},[s("div",{staticClass:"dropdown-trigger"},[s("a",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:t.active1}},[s("span",[t._v("Sort Book")]),t._m(0)])]),s("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[s("div",{staticClass:"dropdown-content"},[s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByTitle}},[t._v(" By Title ")]),s("hr",{staticClass:"dropdown-divider"}),s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByAuthor}},[t._v(" By Author ")])])])]),s("div",{staticClass:"dropdown dua"},[s("div",{staticClass:"dropdown-trigger"},[s("a",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:t.active2}},[s("span",[t._v("All Time")]),t._m(1)])]),s("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[s("div",{staticClass:"dropdown-content"},[s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByYear2}},[t._v(" Newest ")]),s("hr",{staticClass:"dropdown-divider"}),s("div",{staticClass:"dropdown-item",on:{click:t.getBooksByYear}},[t._v(" Latest ")])])])])]),s("div",{staticClass:"column search"},[s("div",{staticClass:"search-box"},[s("i",{staticClass:"fas fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search...","aria-label":"Search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.searchBooks]}})])]),s("div",{staticClass:"column button-login"},[s("router-link",{staticClass:"button is-black",attrs:{to:"/auth/login"}},[t._v("Login")])],1)]),s("Slider",{staticClass:"slider"}),s("div",{staticClass:"book"},[s("h1",[t._v("List Book")]),s("div",{staticClass:"list-book"},t._l(t.books,(function(t){return s("div",{key:t.id,staticClass:"cards"},[s("router-link",{attrs:{to:"book/detail/"+t.id}},[s("Card",{attrs:{bookTitle:t.title,bookAuthor:t.author,image:t.image,year:t.publishedAt}})],1)],1)})),0),s("nav",{staticClass:"pagination is-centered",attrs:{role:"navigation","aria-label":"pagination"}},[s("ul",{staticClass:"pagination-list"},[s("li",[s("a",{staticClass:"pagination-previous",on:{click:t.prevPages}},[t._v("Previous")])]),t._l(this.totalPage,(function(e){return s("li",{key:e.id,staticClass:"pagination-gap",on:{click:function(a){return t.pages(e)}}},[e==t.currentPage?s("div",{staticClass:"pagination-link is-current"},[t._v(t._s(e))]):s("div",{staticClass:"pagination-link"},[t._v(t._s(e))])])})),s("li",[s("a",{staticClass:"pagination-next",on:{click:t.nextPages}},[t._v("Next page")])])],2)])])],1)},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])}],T=(a("ac1f"),a("841c"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"slider"}},[a("h1",[t._v("Book is a window")]),a("h1",[t._v("to the world")])])}],Y={name:"Slider"},V=Y,F=(a("78d8"),Object(n["a"])(V,T,M,!1,null,"a6af0a5e",null)),K=F.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-2by2"},[a("img",{attrs:{src:t.image,alt:t.image}})])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("p",{staticClass:"title is-4"},[t._v(t._s(t.bookTitle))])])]),a("div",{staticClass:"content"},[t._v(" "+t._s(t.bookAuthor)+" - "+t._s(t.year)+" ")])])])},Z=[],H={name:"Card",props:["bookTitle","bookAuthor","year","image"]},W=H,X=(a("9dc2"),Object(n["a"])(W,Q,Z,!1,null,"98d588e0",null)),J=X.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"sidebar"},[s("div",{staticClass:"menu-button"},[s("button",{staticClass:"sidebar-button",on:{click:t.sidebarHide}},[s("img",{attrs:{src:a("7738"),alt:"toggle-menu"}})])]),s("div",{staticClass:"profile"},[s("div",{staticClass:"profile-img",style:t.img}),s("h4",[t._v(t._s(t.name))])]),s("div",{staticClass:"sidebar-menu"},[s("p",[s("router-link",{staticClass:"menu-list",attrs:{to:"/profile"}},[t._v("My Profile")])],1),s("p",[s("router-link",{staticClass:"menu-list",attrs:{to:"/history"}},[t._v("History")])],1),"admin"==this.role?s("p",{attrs:{"data-toggle":"modal"},on:{click:t.showModal}},[t._v("Add Book")]):t._e(),s("p",{on:{click:t.logout}},[t._v("Logout")])]),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Add Book")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.showModal}})]),s("form",{staticClass:"modal-card-body",on:{submit:t.addBook}},[s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{name:"Title",id:"title",placeholder:"Title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"image"}},[t._v("Image")]),s("input",{ref:"file",attrs:{type:"file",name:"image",id:"image",required:""},on:{change:t.upload}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"author"}},[t._v("Author")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{name:"author",id:"author",placeholder:"Author",required:""},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"isbn"}},[t._v("ISBN")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.isbn,expression:"isbn"}],attrs:{name:"isbn",id:"isbn",placeholder:"ISBN",required:""},domProps:{value:t.isbn},on:{input:function(e){e.target.composing||(t.isbn=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"totalPage"}},[t._v("Total Page")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPage,expression:"totalPage"}],attrs:{type:"number",name:"totalPage",id:"totalPage",placeholder:"Total Page",required:""},domProps:{value:t.totalPage},on:{input:function(e){e.target.composing||(t.totalPage=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"categoryId"}},[t._v("Category")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.categoryId,expression:"categoryId"}],attrs:{name:"categoryId",id:"categoryId",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.categoryId=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"1"}},[t._v("Novel")]),s("option",{attrs:{value:"2"}},[t._v("Komik")]),s("option",{attrs:{value:"3"}},[t._v("Sastra")]),s("option",{attrs:{value:"4"}},[t._v("Bisnis")]),s("option",{attrs:{value:"5"}},[t._v("Travel")]),s("option",{attrs:{value:"6"}},[t._v("Design")]),s("option",{attrs:{value:"7"}},[t._v("Sejarah")]),s("option",{attrs:{value:"8"}},[t._v("Hukum")]),s("option",{attrs:{value:"9"}},[t._v("Matematika")]),s("option",{attrs:{value:"10"}},[t._v("Teknologi")]),s("option",{attrs:{value:"11"}},[t._v("Majalah")]),s("option",{attrs:{value:"12"}},[t._v("Fiksi")])])]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"price"}},[t._v("Price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",name:"price",id:"price",placeholder:"Price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"language"}},[t._v("Language")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{name:"language",id:"language",placeholder:"Language",required:""},domProps:{value:t.language},on:{input:function(e){e.target.composing||(t.language=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"publishedBy"}},[t._v("Publisher")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.publishedBy,expression:"publishedBy"}],attrs:{name:"publishedBy",id:"publishedBy",placeholder:"Publisher",required:""},domProps:{value:t.publishedBy},on:{input:function(e){e.target.composing||(t.publishedBy=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"publishedAt"}},[t._v("Published On")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.publishedAt,expression:"publishedAt"}],attrs:{name:"publishedAt",id:"publishedAt",placeholder:"Published On",required:""},domProps:{value:t.publishedAt},on:{input:function(e){e.target.composing||(t.publishedAt=e.target.value)}}})]),s("div",{staticClass:"form-login"},[s("label",{attrs:{for:"description"}},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{name:"description",id:"description",placeholder:"Description",rows:"5",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._m(0)])])])])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"button-save"},[a("button",{staticClass:"button is-warning",attrs:{type:"submit"}},[t._v(" Save")])])}],et=(a("a4d3"),a("e01a"),a("96cf"),a("1da1")),at={name:"Sidebar",components:{},data:function(){return{title:null,image:null,author:null,isbn:null,totalPage:null,categoryId:null,price:null,description:null,language:null,publishedBy:null,publishedAt:null,name:null,role:null,items:[],url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL}},computed:{img:function(){return{backgroundImage:"url(".concat(this.image,")")}}},created:function(){this.items=JSON.parse(localStorage.getItem("items"))},mounted:function(){this.getUserById()},methods:{upload:function(){var t=this.$refs.file.files[0];this.image=t},logout:function(){localStorage.removeItem("items"),this.$router.push("/auth/login")},sidebarHide:function(){var t=document.querySelector(".sidebar");t.classList.toggle("show-sidebar")},getUserById:function(){var t=this,e="user/";g.a.get(this.url+e+this.items.id).then((function(e){t.name=e.data.user.name,t.role=e.data.user.role,t.image=e.data.user.image,localStorage.items=JSON.stringify({isLogin:!0,id:e.data.user.id,role:t.role,token:t.items.token})})).catch((function(){}))},addBook:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.preventDefault(),s=new FormData,s.append("title",e.title),s.append("image",e.image),s.append("author",e.author),s.append("isbn",e.isbn),s.append("totalPage",e.totalPage),s.append("categoryId",e.categoryId),s.append("price",e.price),s.append("description",e.description),s.append("language",e.language),s.append("publishedBy",e.publishedBy),s.append("publishedAt",e.publishedAt),i="admin/book",g.a.post(e.url+i,s,{headers:{"baca-bismillah":e.items.token}}).then((function(){e.$router.go(),e.$swal.fire({icon:"success",html:"Book ".concat(e.title," has been created!"),showConfirmButton:!1,timer:3e3});var t=document.querySelector(".modal"),a=document.querySelector(".sidebar");t.classList.toggle("is-active"),a.classList.toggle("show-sidebar")})).catch((function(){}));case 15:case"end":return a.stop()}}),a)})))()},showModal:function(){var t=document.querySelector(".modal");t.classList.toggle("is-active")}}},st=at,it=(a("2dae"),Object(n["a"])(st,z,tt,!1,null,null,null)),ot=it.exports,rt={name:"Dashboard",components:{Slider:K,Card:J,Sidebar:ot},data:function(){return{items:[],isLogin:!1,books:[],currentPage:1,totalPage:[],offset:null,limit:8,sort:null,search:null,name:null,url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,page:"book?page="}},created:function(){this.items=JSON.parse(localStorage.getItem("items")),this.items&&(this.isLogin=this.items.isLogin)},methods:{pages:function(t){var e=this;this.currentPage=0+t,g.a.get(this.url+this.page+this.currentPage).then((function(t){e.totalPage=Math.ceil(t.data.books.count/e.limit),e.books=t.data.books.rows})).catch((function(){}))},sidebarShow:function(){var t=document.querySelector(".sidebar");t.classList.toggle("show-sidebar")},active1:function(){var t=document.querySelector(".satu");t.classList.toggle("is-active")},active2:function(){var t=document.querySelector(".dua");t.classList.toggle("is-active")},getAllBooks:function(){var t=this;g.a.get(this.url+this.page+this.currentPage).then((function(e){t.totalPage=Math.ceil(e.data.books.count/t.limit),t.books=e.data.books.rows})).catch((function(){}))},getBooksByTitle:function(){var t=this;this.sort="&title=ASC",g.a.get(this.url+this.page+this.currentPage+this.sort).then((function(e){t.books=e.data.books.rows})).catch((function(){}))},getBooksByAuthor:function(){var t=this;this.sort="&author=ASC",g.a.get(this.url+this.page+this.currentPage+this.sort).then((function(e){t.books=e.data.books.rows})).catch((function(){}))},getBooksByYear:function(){var t=this;this.sort="&year=ASC",g.a.get(this.url+this.page+this.currentPage+this.sort).then((function(e){t.books=e.data.books.rows})).catch((function(){}))},getBooksByYear2:function(){var t=this;this.sort="&year=DESC",g.a.get(this.url+this.page+this.currentPage+this.sort).then((function(e){t.books=e.data.books.rows})).catch((function(){}))},searchBooks:function(){var t=this;this.sort="book/?search=".concat(this.search),g.a.get(this.url+this.sort).then((function(e){t.books=e.data.books.rows;var a=document.querySelector(".slider"),s=document.querySelector(".book");t.search?(a.style.display="none",s.style.paddingTop="100px"):(a.style.display="block",s.style.paddingTop="50px")})).catch((function(){}))},nextPages:function(){this.currentPage===this.totalPage?this.currentPage=this.totalPage:this.currentPage+=1,this.getAllBooks()},prevPages:function(){1===this.currentPage?this.currentPage=1:this.currentPage-=1,this.getAllBooks()}},mounted:function(){this.getAllBooks()}},nt=rt,lt=(a("3b06"),Object(n["a"])(nt,D,G,!1,null,"065363b1",null)),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"detail"}},[a("div",{staticClass:"detail-header"},[a("div",{staticClass:"detail-nav"},[a("div",{staticClass:"nav-back"},[a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"back"})])],1),"admin"==this.items.role?a("div",{staticClass:"nav-option"},[a("button",{on:{click:t.showModal}},[t._v("Edit")]),a("button",{on:{click:t.deleteBook}},[t._v("Delete")])]):t._e()]),a("div",{staticClass:"detail-cover",style:t.img}),a("div",{staticClass:"detail-book",style:t.img})]),a("div",{staticClass:"description"},[a("div",{staticClass:"column is-9 desc"},[a("div",{staticClass:"availability"},[a("div",{staticClass:"column desc-box"},[a("div",{staticClass:"category"},[a("button",{staticClass:"button is-rounded is-warning"},[t._v(" "+t._s(this.name)+" ")])]),a("div",{staticClass:"desc-title"},[t._v(t._s(t.book.title))]),a("div",{staticClass:"desc-subtitle"},[t._v(t._s(t.book.author))])]),t._m(0)]),a("div",{staticClass:"desc-text"},[a("p",[t._v(" "+t._s(t.book.description)+" ")])])]),a("div",{staticClass:"column is-2 button-borrow"},[a("button",{staticClass:"button is-warning",on:{click:t.addBorrow}},[t._v("Borrow")])])]),a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Add Book")]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.showModal}})]),a("form",{staticClass:"modal-card-body",on:{submit:t.updateBook}},[a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"title"}},[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{name:"Title",id:"title",placeholder:"Title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"image"}},[t._v("Image")]),a("input",{ref:"file",attrs:{type:"file",name:"image",id:"image",required:""},on:{change:t.upload}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"author"}},[t._v("Author")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{name:"author",id:"author",placeholder:"Author",required:""},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"isbn"}},[t._v("ISBN")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isbn,expression:"isbn"}],attrs:{name:"isbn",id:"isbn",placeholder:"ISBN",required:""},domProps:{value:t.isbn},on:{input:function(e){e.target.composing||(t.isbn=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"totalPage"}},[t._v("Total Page")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPage,expression:"totalPage"}],attrs:{type:"number",name:"totalPage",id:"totalPage",placeholder:"Total Page",required:""},domProps:{value:t.totalPage},on:{input:function(e){e.target.composing||(t.totalPage=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"categoryId"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.categoryId,expression:"categoryId"}],attrs:{name:"categoryId",id:"categoryId",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.categoryId=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("Novel")]),a("option",{attrs:{value:"2"}},[t._v("Komik")]),a("option",{attrs:{value:"3"}},[t._v("Sastra")]),a("option",{attrs:{value:"4"}},[t._v("Bisnis")]),a("option",{attrs:{value:"5"}},[t._v("Travel")]),a("option",{attrs:{value:"6"}},[t._v("Design")]),a("option",{attrs:{value:"7"}},[t._v("Sejarah")]),a("option",{attrs:{value:"8"}},[t._v("Hukum")]),a("option",{attrs:{value:"9"}},[t._v("Matematika")]),a("option",{attrs:{value:"10"}},[t._v("Teknologi")]),a("option",{attrs:{value:"11"}},[t._v("Majalah")]),a("option",{attrs:{value:"12"}},[t._v("Fiksi")])])]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"price"}},[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",name:"price",id:"price",placeholder:"Price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"language"}},[t._v("Language")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{name:"language",id:"language",placeholder:"Language",required:""},domProps:{value:t.language},on:{input:function(e){e.target.composing||(t.language=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"publishedBy"}},[t._v("Publisher")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.publishedBy,expression:"publishedBy"}],attrs:{name:"publishedBy",id:"publishedBy",placeholder:"Publisher",required:""},domProps:{value:t.publishedBy},on:{input:function(e){e.target.composing||(t.publishedBy=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"publishedAt"}},[t._v("Published On")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.publishedAt,expression:"publishedAt"}],attrs:{name:"publishedAt",id:"publishedAt",placeholder:"Published On",required:""},domProps:{value:t.publishedAt},on:{input:function(e){e.target.composing||(t.publishedAt=e.target.value)}}})]),a("div",{staticClass:"form-login"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{name:"description",id:"description",placeholder:"Description",rows:"5",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._m(1)])])])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column status"},[a("p",[t._v("Available")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"button-save"},[a("button",{staticClass:"button is-warning",attrs:{type:"submit"}},[t._v(" Save")])])}],pt={name:"Detail",data:function(){return{title:null,image:null,author:null,isbn:null,totalPage:null,categoryId:null,price:null,description:null,language:null,publishedBy:null,publishedAt:null,book:[],bookId:null,isLogin:!1,items:[],name:null,url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,page:null}},created:function(){this.items={role:"user"};var t=JSON.parse(localStorage.getItem("items"));t&&(this.items=t)},methods:{upload:function(){var t=this.$refs.file.files[0];this.image=t},showModal:function(){var t=document.querySelector(".modal");t.classList.toggle("is-active")},deleteBook:function(){var t=this;this.$swal.fire({html:"Are you sure to delete book ".concat(this.book.title,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.value&&(t.page="admin/book/",g.a.delete(t.url+t.page+t.$route.params.id,{headers:{"baca-bismillah":t.items.token}}).then((function(){t.$swal.fire({icon:"success",html:"Book ".concat(t.book.title," has been deleted!"),showConfirmButton:!1,timer:3e3}),t.$router.push("/")})))}))},updateBook:function(t){var e=this;t.preventDefault();var a=new FormData;a.append("title",this.title),a.append("image",this.image),a.append("author",this.author),a.append("isbn",this.isbn),a.append("totalPage",this.totalPage),a.append("categoryId",this.categoryId),a.append("price",this.price),a.append("description",this.description),a.append("language",this.language),a.append("publishedBy",this.publishedBy),a.append("publishedAt",this.publishedAt),this.page="admin/book/",g.a.put(this.url+this.page+this.$route.params.id,a,{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$swal.fire({icon:"success",html:"Book ".concat(e.book.title," has been updated!"),showConfirmButton:!1,timer:3e3});var t=document.querySelector(".modal");t.classList.toggle("is-active"),e.$router.go()})).catch((function(){}))},getBookById:function(){var t=this;this.page="book/",g.a.get(this.url+this.page+this.$route.params.id).then((function(e){t.book=e.data.data,t.name=t.book.bookCategory.name,t.title=t.book.title,t.image=t.book.image,t.author=t.book.author,t.isbn=t.book.isbn,t.totalPage=t.book.totalPage,t.categoryId=t.book.categoryId,t.price=t.book.price,t.description=t.book.description,t.language=t.book.language,t.publishedBy=t.book.publishedBy,t.publishedAt=t.book.publishedAt})).catch((function(){}))},addBorrow:function(){var t=this;!0===this.items.isLogin?(this.bookId=this.$route.params.id,this.page="cart",g.a.post(this.url+this.page,{bookId:this.bookId,userId:this.items.id,status:0},{headers:{"baca-bismillah":this.items.token}}).then((function(){t.$swal.fire({icon:"success",html:"Book ".concat(t.book.title," has been borrowed!"),showConfirmButton:!1,timer:3e3})})).catch((function(){}))):this.$swal.fire({icon:"error",title:"You cannot borrow this book",text:"Please login first!",footer:"<a href='http://localhost:8080/auth/login'>Go to login page..</a>"})}},computed:{img:function(){return{backgroundImage:"url(".concat(this.book.image,")")}}},mounted:function(){this.getBookById()}},mt=pt,ht=(a("5f6c"),Object(n["a"])(mt,ut,dt,!1,null,null,null)),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v(" Borrow History ")]),a("div",{staticClass:"card-header-icon",attrs:{"aria-label":"more options"}},[a("span",[t._v("Total data : "),a("b",[t._v(t._s(t.length))])])])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"table-container content"},[a("table",{staticClass:"table is-hoverable is-striped"},[t._m(0),t._l(t.carts,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[a("img",{attrs:{src:e.bookCart.image,alt:"book",width:"80",height:"100"}})]),a("td",[t._v(t._s(e.bookCart.title)+" "),a("p",{staticClass:"username"},[t._v(t._s(e.userCart.name))])]),a("td",[t._v(t._s(e.createdAt))]),0==e.status?a("td",[t._v("Pending")]):t._e(),1==e.status?a("td",[t._v("Borrow")]):t._e(),2==e.status?a("td",[t._v("Return")]):t._e(),3==e.status?a("td",{staticClass:"text-danger"},[t._v("Penalty")]):t._e(),"admin"==t.role?a("td",{staticClass:"buttons are-small"},[a("button",{staticClass:"button is-info",on:{click:function(a){return t.cartApproved(e.id)}}},[t._v(" Approved")]),a("button",{staticClass:"button is-success",on:{click:function(a){return t.cartReturned(e.id)}}},[t._v(" Returned")]),a("button",{staticClass:"button is-warning",on:{click:function(a){return t.cartReset(e.id)}}},[t._v(" Reset")]),a("button",{staticClass:"button is-dark",on:{click:function(a){return t.cartPenalty(e.id)}}},[t._v(" Penalty")]),a("button",{staticClass:"button is-danger",on:{click:function(a){return t.deleteCart(e.id)}}},[t._v(" Delete")])]):t._e(),"user"==t.role?a("td",["user"==t.role?a("button",{staticClass:"button is-info is-small",on:{click:function(a){return t.seeDetail(e.bookCart.id)}}},[t._v("Detail")]):t._e()]):t._e()])])}))],2)])])])],1)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Title")]),a("th",[t._v("Date Borrow")]),a("th",[t._v("Status")]),a("th",[t._v("Action")])])])}],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"columns is-gapless custom-navbar"},[s("Sidebar",{staticClass:"sidebar-start"}),s("div",{staticClass:"toggle-menu",on:{click:t.sidebarShow}},[s("img",{attrs:{src:a("7738"),alt:"toggle-menu"}})]),s("div",{staticClass:"column navbar-brand"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("f1bd"),alt:"logo",height:"40px",width:"40px"}})]),s("router-link",{staticClass:"back-home",attrs:{to:"/"}},[t._v("Library")])],1)],1)},Ct=[],_t={name:"Navbar",components:{Sidebar:ot},methods:{sidebarShow:function(){var t=document.querySelector(".sidebar");t.classList.toggle("show-sidebar")},active1:function(){var t=document.querySelector(".satu");t.classList.toggle("is-active")},active2:function(){var t=document.querySelector(".dua");t.classList.toggle("is-active")}}},wt=_t,kt=(a("27da"),Object(n["a"])(wt,bt,Ct,!1,null,"2ea17b77",null)),At=kt.exports,yt={name:"History",components:{Navbar:At},data:function(){return{carts:null,key:null,length:0,numbers:null,role:null,name:null,date:null,items:[],url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,page:null,bookId:null}},created:function(){this.items=JSON.parse(localStorage.getItem("items")),this.role=this.items.role},methods:{getUserById:function(){var t=this;this.page="user/",g.a.get(this.url+this.page+this.items.id).then((function(e){t.name=e.data.user.name})).catch((function(){}))},getUserBook:function(){},getAllUserCart:function(){var t=this;this.page="cart",g.a.get(this.url+this.page).then((function(e){t.carts=e.data.carts,t.length=t.carts.length,console.log(t.carts)})).catch((function(){}))},getAllCart:function(){var t=this;this.page="user/cart/",g.a.get(this.url+this.page+this.items.id).then((function(e){t.carts=e.data.carts,t.length=t.carts.length})).catch((function(){}))},cartReset:function(t){var e=this;this.page="cart/",g.a.patch(this.url+this.page+t,{status:0},{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$router.go()})).catch((function(){}))},cartApproved:function(t){var e=this;this.page="cart/",g.a.patch(this.url+this.page+t,{status:1},{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$router.go()})).catch((function(){}))},cartReturned:function(t){var e=this;this.page="cart/",g.a.patch(this.url+this.page+t,{status:2},{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$router.go()})).catch((function(){}))},cartPenalty:function(t){var e=this;this.page="cart/",g.a.patch(this.url+this.page+t,{status:3},{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$router.go()})).catch((function(){}))},seeDetail:function(t){this.$router.push("/book/detail/".concat(t))},deleteCart:function(t){var e=this;this.$swal.fire({html:"Are you sure to delete cart?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){a.value&&(e.page="cart/",g.a.delete(e.url+e.page+t,{headers:{"baca-bismillah":e.items.token}}).then((function(){e.$swal.fire({icon:"success",html:"Cart has been deleted!",showConfirmButton:!1,timer:3e3}),e.$router.go()})))}))}},mounted:function(){"user"===this.role?this.getAllCart():this.getAllUserCart(),this.getUserById(),this.getUserBook()}},Pt=yt,Bt=(a("9d83"),Object(n["a"])(Pt,gt,ft,!1,null,"d9ae8fca",null)),St=Bt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("Navbar"),a("div",{staticClass:"my-profile profile"},[a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"user-photo",style:t.img}),a("div",{staticClass:"user-profile"},[a("h3",[t._v(t._s(this.user.name))]),a("h5",{staticClass:"user-email"},[t._v(t._s(this.user.email))])])]),a("button",{staticClass:"button is-fullwidth is-success",on:{click:t.editProfile}},[t._v(" Edit Profile")])])])]),a("div",{staticClass:"my-profile edit"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-content"},[a("form",{staticClass:"edit-content",on:{submit:t.updateProfile}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Photo Profile")]),a("div",{staticClass:"control"},[a("input",{ref:"file",staticClass:"input",attrs:{type:"file",required:""},on:{change:t.upload}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Email")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",disabled:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Name")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text",required:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"New Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.message1.length?a("span",{staticClass:"error-message"},[t._v(t._s(this.message1))]):t._e()]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Confirm Password")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"input",attrs:{type:"password",placeholder:"Confirm Password",required:""},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})]),this.message2.length?a("span",{staticClass:"error-message"},[t._v(t._s(this.message2))]):t._e()]),a("hr"),a("button",{staticClass:"button is-half is-success save"},[t._v("Save Profile")]),a("button",{staticClass:"button is-half is-danger",on:{click:t.cancelEdit}},[t._v("Cancel")])])])])])],1)},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v(" My Profile ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v(" Edit Profile ")])])}],Nt={name:"Profile",components:{Navbar:At},data:function(){return{items:[],url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,user:[],page:null,password:null,password2:null,message1:[],message2:[],image:null}},watch:{password:function(t){this.password=t,this.checkPassword(t)},password2:function(t){this.password2=t,this.checkPassword2(t)}},computed:{img:function(){return{backgroundImage:"url(".concat(this.user.image,")")}}},created:function(){this.items=JSON.parse(localStorage.getItem("items"))},mounted:function(){this.getUserById()},methods:{upload:function(){var t=this.$refs.file.files[0];this.image=t},checkPassword:function(t){t.length<4?this.message1="Password must contains at least 4 characters":this.message1=""},checkPassword2:function(t){t.length<4?this.message2="Password must contains at least 4 characters":this.message2=""},getUserById:function(){var t=this;this.page="user/",g.a.get(this.url+this.page+this.items.id).then((function(e){t.user=e.data.user,t.name=e.data.user.name,t.email=e.data.user.email})).catch((function(){}))},editProfile:function(){var t=document.querySelector(".edit");t.style.display="block"},cancelEdit:function(){var t=document.querySelector(".edit");t.style.display="none"},updateProfile:function(t){var e=this;if(t.preventDefault(),this.page="user/",this.password!==this.password2)this.$swal.fire({icon:"error",html:"Password not match!",showConfirmButton:!1,timer:3e3});else{var a=new FormData;a.append("name",this.user.name),a.append("email",this.user.email),a.append("password",this.password),a.append("image",this.image),g.a.put(this.url+this.page+this.items.id,a,{headers:{"baca-bismillah":this.items.token}}).then((function(){e.$swal.fire({icon:"success",html:"Profile has been updated!",showConfirmButton:!1,timer:3e3}),e.$router.go()})).catch((function(){}))}}}},It=Nt,Lt=(a("1966"),Object(n["a"])(It,xt,Et,!1,null,"3eec78d7",null)),Ot=Lt.exports;s["a"].use(p["a"]);var qt=[{path:"/",name:"Dashboard",component:ct},{path:"/auth/login",name:"Login",component:L},{path:"/auth/register",name:"Register",component:j},{path:"/book/detail/:id",name:"Detail",component:vt},{path:"/history",name:"History",component:St},{path:"/profile",name:"Profile",component:Ot}],Ut=new p["a"]({mode:"history",base:"/",routes:qt}),$t=Ut,Rt=a("2f62");s["a"].use(Rt["a"]);var jt=new Rt["a"].Store({state:{},mutations:{},actions:{},modules:{}});s["a"].config.productionTip=!1,s["a"].use(i["a"]),new s["a"]({router:$t,store:jt,render:function(t){return t(u)}}).$mount("#app")},"5f6c":function(t,e,a){"use strict";var s=a("188f"),i=a.n(s);i.a},"6c31":function(t,e,a){},"75d5":function(t,e,a){},7738:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgB5dLLCYBADEXRqwWIopVpobY0CK78YAf6ApbwZpUDd5ZhCIF0GjWrCY8rBt5qwKPEwP7P4SGf2OGKb4dbq+fEpyOfKodd1Gtqjx8uasTjIJ8PXbIc+vnly7QAAAAASUVORK5CYII="},"78d8":function(t,e,a){"use strict";var s=a("6c31"),i=a.n(s);i.a},"85ec":function(t,e,a){},8779:function(t,e,a){},9151:function(t,e,a){"use strict";var s=a("8779"),i=a.n(s);i.a},"9d83":function(t,e,a){"use strict";var s=a("08f4"),i=a.n(s);i.a},"9dc2":function(t,e,a){"use strict";var s=a("dd9a"),i=a.n(s);i.a},cc41:function(t,e,a){"use strict";var s=a("0046"),i=a.n(s);i.a},dd9a:function(t,e,a){},f1bd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQOSURBVHgB7Z3Pb0xRFMdP/WhLFYkQJBSxtFa/MxFboRI/GkHVxoIF/4ON2IlIBAkSPxNhSSKRICFWEjuJYmGDSC1oJcW56Ux7O6a559yZd9+ZN99P8k1m+s7t7cx33nnvnnnvlAgAAAAAAAAAAADNRS9riDUSoR+sUwQayjXW3zr0k4CYGYKYOVQf9Y5vKWaRjpess4K4rZQmVQ2wdrLaFGM+sc6wvgjjByLm8BllXWA9pwZxlybTz33hmEGamrayYBvFp9FzCebw9YGESFKWVdZSPGuEcfXM4bNMGqhNWZa5F9i+mbWcsp3Dp4e1npQUyZB9ge0u9e6lbOfw6SN5ip9Aa8gW1i1BXA+BKLSGLGYdIJssCmxvpyagSClrKLC9kIa8Yz0TxLmzmBKlpZuyZ1ARu44i0BrylnVMEOf+8BIVjyuUMdZS1kbWCVaXIHZV1fPdgfjTNL7QM401Q+6wVlAcDwPbD1IToDXEnVtnVQpxLCHbaOpZSdYhKXlK44XA6VhN40XMGFayDgviYn9/pvjFxVhJGfHG9AVitQXMlK+DaDKbOI1KB2n3kFesS4K4EusQFQ/NWVZU3UxryGfWVWGsb0iKNYIG94n9LYhzi8kO77lmHRJFqmNIaBVdoYPS8Ihkb24/6zwlJJUhoTpTasZY3wRx1dcD3CY5rlrR0uX3FPQrYk2f9kq/R7hJLf4hSfXipd+03aAWN6SZv1MvJKk+jaFFXoU89g5XDvELk29Y7yknUr0B6oNbQmbT1L/PfSOamyFIWcZItYdIazmpFoZmSWVIpzDOFRdb2hSkLGPAEGPAEGPAEGPAEGPksTIu0eTtAB9ZTwhMkIch7uKCo+XH7rIfGOKBlGUMGGIMGGIMGGIMGGIMGGIMGGIMGGKMIl3hEboZdSk1AUUyRHK7tnmQsowBQ4xRJEM6A7J8KdIERTqGhK5sGaMmACnLGDDEGLg/RIemX8pMigCG6BDfTRtLHoa8Zs0rP5Y0smkp8jDkYlmgBkhZOjT3GG5inSQlMESH5i5cd7xRG4LTXmNgD9FhrqNcq1OYjnIPhHH1NKqsNccwa0H58YZpxrkaV+Wmz/msF5QjqQzZRdkTO4czJNSNLhk4qOtoU2gPRZBqD7kujHN9EaNqQN4cLkUN19i+g+rv/Z45qQw5IozbT/GGhOZoRO/3zEHKMobbQ7oFMRXaSdYdrvpsKaajXFdgnHaO1K8jaqw7+HwNxLj/ITW3/PgP6zuF8cc4JM3CHH6jM9c87Bc1bo6Ur8PhUu9C7VhnSJZ9eIESHEOMUX2WdZn1mEBKtrOO+z/wGwVn3gYV/MeUhtBIWcaoTlmuZCzt/gYaQ6//BGdZxkDKMoZLWZlfawQAAAAAAAAAAADQnPwD1p7dvH4rkDMAAAAASUVORK5CYII="}});
//# sourceMappingURL=app.b7b3418e.js.map